<!DOCTYPE html>
<html>
<head>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">
  <style>
     body {
      font-family: 'Open Sans', sans-serif;
      background-color: #f8f8f8;
    }

    .profile {
      margin-top: 50px;
      padding: 30px;
      background-color: #ffffff;
      border-radius: 10px;
      box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
      position: relative;
    }

    .profile h2 {
      margin-bottom: 20px;
    }

    .profile-label {
      font-weight: bold;
    }

    .edit-button {
      background-color: #4e6ef5;
      color: #ffffff;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
      cursor: pointer;
      position: absolute;
      top: 50px;
      right: 50px;
    }

    .edit-button:hover {
      background-color: #3048c3;
    }

    .next-button {
      background-color: #4e6ef5;
      color: #ffffff;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
      cursor: pointer;
      position: absolute;
      top: 180px;
      right: 50px;
    }

    .next-button:hover {
      background-color: #3048c3;
    }
  </style>
  <script>
    function displayProfile() {
      // Retrieve user information from localStorage
      var userInfoJSON = localStorage.getItem('userInfo');
      var userInfo = JSON.parse(userInfoJSON);

      // Populate the HTML with the user information
      document.getElementById('nickname').textContent = userInfo.nickname;
      document.getElementById('phoneNumber').textContent = userInfo.phoneNumber;
      document.getElementById('address').textContent = userInfo.address;
      document.getElementById('city').textContent = userInfo.city;
      document.getElementById('postalCode').textContent = userInfo.postalCode;

      // Show the profile section
      document.getElementById('profileSection').style.display = 'block';
    }

    function enableEdit() {
      // Enable editing of profile information
      document.getElementById('nickname').contentEditable = true;
      document.getElementById('phoneNumber').contentEditable = true;
      document.getElementById('address').contentEditable = true;
      document.getElementById('city').contentEditable = true;
      document.getElementById('postalCode').contentEditable = true;

      // Show the save button
      document.getElementById('saveButton').style.display = 'block';

      // Hide the edit button
      document.getElementById('editButton').style.display = 'none';
    }

    function saveChanges() {
      // Retrieve updated user information
      var nickname = document.getElementById('nickname').textContent;
      var phoneNumber = document.getElementById('phoneNumber').textContent;
      var address = document.getElementById('address').textContent;
      var city = document.getElementById('city').textContent;
      var postalCode = document.getElementById('postalCode').textContent;

      // Update user information in localStorage
      var userInfoJSON = localStorage.getItem('userInfo');
      var userInfo = JSON.parse(userInfoJSON);
      userInfo.nickname = nickname;
      userInfo.phoneNumber = phoneNumber;
      userInfo.address = address;
      userInfo.city = city;
      userInfo.postalCode = postalCode;
      localStorage.setItem('userInfo', JSON.stringify(userInfo));

      // Disable editing of profile information
      document.getElementById('nickname').contentEditable = false;
      document.getElementById('phoneNumber').contentEditable = false;
      document.getElementById('address').contentEditable = false;
      document.getElementById('city').contentEditable = false;
      document.getElementById('postalCode').contentEditable = false;

      // Hide the save button
      document.getElementById('saveButton').style.display = 'none';

      // Show the edit button
      document.getElementById('editButton').style.display = 'block';

      alert('Changes saved successfully!');
    }

    function goToNextPage() {
      // Navigate to the welcome.html page
      window.location.href = 'home';
    }

    window.onload = displayProfile;
  </script>
</head>
<body>
  <div id="profileSection" class="profile" style="display: none;">
    <h2>Profile Information</h2>
    <button id="editButton" class="edit-button" onclick="enableEdit()">Edit</button>
    <button id="nextButton" class="next-button" onclick="goToNextPage()">Next</button>
    <div>
      <label class="profile-label">Nickname:</label>
      <span id="nickname" contenteditable="false"></span>
    </div>
    <div>
      <label class="profile-label">Phone Number:</label>
      <span id="phoneNumber" contenteditable="false"></span>
    </div>
    <div>
      <label class="profile-label">Address:</label>
      <span id="address" contenteditable="false"></span>
    </div>
    <div>
      <label class="profile-label">City:</label>
      <span id="city" contenteditable="false"></span>
    </div>
    <div>
      <label class="profile-label">Postal Code:</label>
      <span id="postalCode" contenteditable="false"></span>
    </div>
  </div>
</body>
</html>
